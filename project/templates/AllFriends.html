<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/1.2.0/tailwind.min.css">
        <link rel="stylesheet" href="../static/css/main.css">
        <title>Home</title>
        <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
        <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
        <script>
    function myFunction() {
      var x = document.getElementById("myTopnav");
      if (x.className === "topnav") {
        x.className += " responsive";
      } else {
        x.className = "topnav";
      }
    }
        </script>
        <style>
    div#imh {
      display: block;
      position: relative;
    }

    div#imh::after {
      content: "";
      background: linear-gradient(90deg, #e3ffe7 0%, #d9e7ff 100%);
      opacity: 0.5;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      position: absolute;
      z-index: -1;
    }

    .leftContent {
      float: left;
      width: 40%;
      font-weight: bold;
    }

    .rightContent {
      float: right;
      width: 60%;
    }
        </style>
    </head>
    <body style="height: 100%">
        <div class="topnav" id="myTopnav">
            <a href="/home" class="active">Home</a>
            <a href="/loadContact">Contact</a>
            <a href="/loadAbout">About</a>
            <!-- show logout button at the right end -->
            <a href="/" style="float: right">Logout</a>
            <a href="javascript:void(0);" class="icon" onclick="myFunction()">
                <i class="fa fa-bars"></i>
            </a>
        </div>
        <header class="bg-white shadow">
            <div class="mx-auto max-w-7xl py-6 px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-2 md:grid-cols-6">
                    <div class="col-span-1 md:col-span-1">
                        <h1 class="text-3xl font-bold tracking-tight text-gray-900">
                            My Friends
                        </h1>
                    </div>
                    <div class="col-span-1 md:col-span-5 flex flex-row-reverse">
                      <div @click.away="open = false" class="relative" x-data="{ open: false }">
                        <button @click="open = !open" class="flex flex-row items-center w-full px-4 py-2 mt-2 text-sm font-semibold text-left bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:focus:bg-gray-600 dark-mode:hover:bg-gray-600 md:w-auto md:inline md:mt-0 md:ml-4 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline">
                          <span>Navigate</span>
                          <svg fill="currentColor" viewBox="0 0 20 20" :class="{'rotate-180': open, 'rotate-0': !open}" class="inline w-4 h-4 mt-1 ml-1 transition-transform duration-200 transform md:-mt-1"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                        </button>
                        <div x-show="open" x-transition:enter="transition ease-out duration-100" x-transition:enter-start="transform opacity-0 scale-95" x-transition:enter-end="transform opacity-100 scale-100" x-transition:leave="transition ease-in duration-75" x-transition:leave-start="transform opacity-100 scale-100" x-transition:leave-end="transform opacity-0 scale-95" class="absolute right-0 w-full mt-2 origin-top-right rounded-md shadow-lg md:w-48">
                          <div class="px-2 py-2 bg-white rounded-md shadow dark-mode:bg-gray-800">
                            <a class="block px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href="/friendsaddpost"> Add Post</a>
                            <a class="block px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href="/friendhistory">Friends Page</a>
                            
                          </div>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </header>
        <div class="mx-auto max-w-7xl py-6 sm:px-6 lg:px-8">
            <ul role="list" class="grid grid-cols-1 md:grid-cols-6" id="friendslist">
                <script>
        var Friends = [
          {
            name: "Leslie",
            profilepic: "../static/friend1.png",
          },
          {
            name: "Alexander",
            profilepic: "../static/friend2.png",
          },
          {
            name: "Diana",
            profilepic: "../static/friend3.png",
          },
          {
            name: "Marcus",
            profilepic: "../static/friend4.png",
          },
          {
            name: "Jacqueline",
            profilepic: "../static/friend5.png",
          },
        ];

        buildUL(Friends);

        function buildUL(data) {
          var list = document.getElementById("friendslist");

          for (var i = 0; i < data.length; i++) {
            console.log(data[i]);

            var listvalues = `<li class="pb-3">
                <div class="flex items-center gap-x-6 ">
                  <a href="/individualperson/${data[i].name}">
                            <img class="h-16 w-16 rounded-full" src="${data[i].profilepic}" alt="">
                            <div>
                              <h3 class="text-base font-semibold leading-7 tracking-tight text-gray-900 pl-2">${data[i].name} </h3>
                              
                            </div>
                            </a>
                          </div>
                        </li>`;

            list.innerHTML += listvalues;
          }

        }
                </script>
            </ul>
        </div>
        <!-- Search for friend -->
        <div class=" p-10 ">
            <h1 class="  block ml-2 font-bold pb-10">Add Friends</h1>
            <div class=" grid grid-cols-1 md:grid-cols-3 flex max-w-md gap-x-4">
                <label for="email-address" class="sr-only ">Email address</label>
                <input
                    id="email-address"
                    name="email"
                    type="text"
                    required
                    class="min-w-0 flex-auto rounded-md border-0  px-3.5 py-2  shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"
                    placeholder="Enter username"
                >
                <button id="search" type="submit" class="flex-none ml-4 w-40 rounded-md bg-indigo-500 py-2.5 px-3.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500">Search</button>
                <button id="CancelSearch" class="ml-10 flex-none ml-4 w-40 rounded-md bg-indigo-500 py-2.5 px-3.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500">Cancel</button>
            </div>
            <!-- list of names present -->
            <div id="disp-friends">
              <div class="bg-white font-sans mt-24 h-100 w-full flex flex-row justify-center items-center" id="FriendName" style="visibility: hidden;">
                <div class="card w-96 mx-auto bg-white  shadow-xl hover:shadow">
                  <img class="w-32 mx-auto rounded-full -mt-20 border-8 border-white" src="../static/friend1.png" alt="">
                  <div id = "addfriendname"class="text-center mt-2 text-3xl font-medium"></div>
                  <div id = "addfriendcountry" class="text-center font-normal text-lg"></div>
          
                  <hr class="mt-8">
                  <div class="flex p-2 w-full h-full bg-indigo-500 items-center">
                    <button id="Addfriendbutton" type="submit"class="text-xl tracking-tight text-gray-900 m-2 p-1 w-full">Add Friend</button>
          
                  </div>
                </div>
              </div>
                <!-- end -->

              </div>
        </div>
    </div>
    <script>


    var Names = [{ "id": 1, "name": "Jack", "country": "USA" },
    { "id": 1, "name": "Peter", "country": "Canada" },

    ]
    var BackendFetch = new Map();
    let FindName = document.getElementById("email-address");
    let Searchbutton = document.getElementById("search");
    let CancelSearch = document.getElementById("CancelSearch");
    let Addfriendbutton = document.getElementById("Addfriendbutton");
    let FriendName = document.getElementById("FriendName");
    let dispfriends = document.getElementById("disp-friends");
    let addfriendname = document.getElementById("addfriendname");
    let addfriendcountry = document.getElementById("addfriendcountry");

    
    Searchbutton.onclick = function () {


      


      var wantedName = FindName.value;
      for (var i = 0; i < Names.length; i++) {
        if (Names[i].name === wantedName) {
          document.getElementById("addfriendname").innerHTML = Names[i].name;
          document.getElementById("addfriendcountry").innerHTML = Names[i].country;
          FriendName.style.visibility = 'visible';
          break;
        } 
        else {
          FriendName.style.visibility = 'hidden';
        }
      }
      document.getElementById("email-address").value = "";
    }

    CancelSearch.onclick = function () {
      
      FriendName.style.visibility = 'hidden';
    }
    Addfriendbutton.onclick = function(){


      BackendFetch.set('Name', addfriendname.innerHTML);
      
      FriendName.style.visibility = 'hidden';
      console.log(BackendFetch);

    }
    </script>
</body>
</html>
